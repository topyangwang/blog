(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7f2d7e62"],{"03d7":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"editAlbum"},[i("manHead"),i("bgBox",{staticClass:"bgBox"},[i("ctitle",[t._v("相册")]),i("el-button",{staticClass:"editBtn",attrs:{icon:"fa fa-cog"},on:{click:function(e){t.isEdit=!t.isEdit}}},[t._v(" "+t._s(t.isEdit?"取消":"编辑"))]),i("ul",{staticClass:"albumItems"},[t._l(t.albums,function(e,s){return i("li",{key:s,staticClass:"albumItem",class:{"reveal-left":s%3==0,"reveal-bottom":s%3==1,"reveal-right":s%3==2}},[i("router-link",{attrs:{to:{path:"/photos",query:{name:e}}}},[i("img",{staticClass:"thumb",attrs:{src:a("c6ed"),alt:""}}),i("div",{staticClass:"describe"},[i("p",{staticClass:"title"},[t._v(t._s(e))])])]),i("i",{directives:[{name:"show",rawName:"v-show",value:t.isEdit,expression:"isEdit"}],staticClass:"removeAlbum fa fa-pencil",on:{click:function(a){t.editAlbum(e)}}})],1)}),i("li",{directives:[{name:"show",rawName:"v-show",value:t.isEdit,expression:"isEdit"}],staticClass:"albumItem addAlbum",on:{click:function(e){t.addAlbum()}}},[i("i",{staticClass:"el-icon-plus"})])],2)],1),i("el-dialog",{attrs:{title:t.addAlbumBoxTitle,visible:t.addAlbumBox},on:{"update:visible":function(e){t.addAlbumBox=e}}},[i("el-form",{attrs:{model:t.newAlbum}},[i("el-form-item",{attrs:{label:"相册名称"}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:t.newAlbum.name,callback:function(e){t.$set(t.newAlbum,"name",e)},expression:"newAlbum.name"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.addAlbumBox=!1}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doAlbum()}}},[t._v("确 定")])],1)],1)],1)},s=[],n=(a("7f7f"),a("cadf"),a("551c"),a("097d"),a("1f13")),l=a("ce8c"),o=a("a5a9"),u={name:"life",components:{manHead:n["a"],bgBox:l["a"],ctitle:o["a"]},data:function(){return{albums:[],isEdit:!1,addAlbumBox:!1,addAlbumBoxTitle:"添加相册",doAlbumName:"",newAlbum:{name:""}}},mounted:function(){this.scrollReveal.reveal(".reveal-bottom",{duration:1e3,origin:"bottom",reset:!0,mobile:!0,distance:"50px"}),this.scrollReveal.reveal(".reveal-left",{duration:1e3,origin:"left",reset:!0,mobile:!0,distance:"50px"}),this.scrollReveal.reveal(".reveal-right",{duration:1e3,origin:"right",reset:!0,mobile:!0,distance:"50px"}),this.getAlbums()},methods:{getAlbums:function(){var t=this;this.$http.get("/api/albums").then(function(e){var a=e.data;t.albums=a.result})},addAlbum:function(){this.addAlbumBox=!0,this.addAlbumBoxTitle="添加相册"},editAlbum:function(t){this.addAlbumBox=!0,this.addAlbumBoxTitle="修改名称",this.doAlbumName=t},doAlbum:function(){var t=this;this.addAlbumBox=!1,"添加相册"==this.addAlbumBoxTitle?this.$http.post("/admin/addAlbum",{params:{albumName:this.newAlbum.name}}).then(function(e){var a=e.data;0==a.status?t.$message({type:"warning",message:a.msg}):(t.$message({type:"success",message:a.msg}),t.getAlbums())}):this.$http.post("/admin/editAlbum",{params:{oldAlbumName:this.doAlbumName,newAlbumName:this.newAlbum.name}}).then(function(e){var a=e.data;0==a.status?t.$message({type:"warning",message:a.msg}):(t.$message({type:"success",message:a.msg}),t.getAlbums())}),this.newAlbum.name=""}}},c=u,m=(a("da69"),a("2877")),r=Object(m["a"])(c,i,s,!1,null,"5ce5a1c4",null);r.options.__file="editAlbum.vue";e["default"]=r.exports},"0dce":function(t,e,a){"use strict";var i=a("b0bb"),s=a.n(i);s.a},"1f13":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"manHead"},[a("ul",{staticClass:"navgation"},t._l(t.navs,function(e,i){return a("li",{key:i},[a("router-link",{attrs:{to:e.link}},[t._v(t._s(e.text))])],1)}))])},s=[],n={name:"topHead",data:function(){return{navs:[{text:"博客首页",link:"/"},{text:"写日志",link:"/admin/addLife"},{text:"传照片",link:"/admin/addPhotos"},{text:"管理相册",link:"/admin/EditAlbum"}]}}},l=n,o=(a("0dce"),a("2877")),u=Object(o["a"])(l,i,s,!1,null,"2bdfbb62",null);u.options.__file="head.vue";e["a"]=u.exports},6142:function(t,e,a){"use strict";var i=a("8e53"),s=a.n(i);s.a},"724e":function(t,e,a){},"7f7f":function(t,e,a){var i=a("86cc").f,s=Function.prototype,n=/^\s*function ([^ (]*)/,l="name";l in s||a("9e1e")&&i(s,l,{configurable:!0,get:function(){try{return(""+this).match(n)[1]}catch(t){return""}}})},"8e53":function(t,e,a){},a5a9:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ctitle"},[t._t("default")],2)},s=[],n=(a("cadf"),a("551c"),a("097d"),{name:"ctitle",data:function(){return{}}}),l=n,o=(a("6142"),a("2877")),u=Object(o["a"])(l,i,s,!1,null,"3e71266f",null);u.options.__file="ctitle.vue";e["a"]=u.exports},b0bb:function(t,e,a){},c6ed:function(t,e,a){t.exports=a.p+"img/p03.c462d407.jpg"},da69:function(t,e,a){"use strict";var i=a("724e"),s=a.n(i);s.a}}]);
//# sourceMappingURL=chunk-7f2d7e62.7236ad5f.js.map